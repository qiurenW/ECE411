#include "Arduino.h"

int temp_sensor = A0; // sensor pin
int temp; //temperature value in Fahrenheit
int x,y; //the two digit varialbles
int backupValue;
//setup pinmodes
int motor = 11;
int digit1 = 2;
int digit2 = 3;
int segA = 4;
int segB = 5;
int segC = 6;
int segD = 7;
int segE = 8;
int segF = 9;
int segG = 10;
int refreshTime = 3000; //refresh every 30 seconds

void setup() {
  Serial.begin(9600); //open serial port to commnunicate with the sensor
  pinMode(temp_sensor, INPUT);
  pinMode(motor, OUTPUT);
 /* pinMode(digit1, OUTPUT);
  pinMode(digit2, OUTPUT);
  pinMode(segA, OUTPUT);
  pinMode(segB, OUTPUT);
  pinMode(segC, OUTPUT);
  pinMode(segD, OUTPUT);
  pinMode(segE, OUTPUT);
  pinMode(segF, OUTPUT);
  pinMode(segG, OUTPUT);*/

}

void loop() {
  temp = analogRead(temp_sensor); //read the analog value from the temp sensor
  temp = ((temp*500/1024)*1.8)+32; //convert to Fahrenheit temp
  backupValue = temp;
  Serial.println((byte)temp);
 
 //control the fan
  if (temp <= 65) //set the lower limit to turn the fan off
  { temp = 65;}
  else {if (temp >=90) //set the upper limit to turn the fan on 100%
        { temp = 90;}
        else {temp = temp;}}
//control the speed of the fan using PWM
 for (int x = 0; x<50; x++);{
  if (temp < 70)
  {analogWrite (motor, 0);
   } // turn the fan all off
  else {if (temp >= 70 || temp < 80)
        {analogWrite(motor, 84);} // PWM = 33%
        else {if (temp >= 80 || temp < 90)
              {analogWrite(motor, 168);
               } // PWM = 66%
              else {analogWrite(motor, 255);
